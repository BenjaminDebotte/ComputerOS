MINIMUM_FUEL_LEVEL=12
RIGHT=0
LEFT=1
X=7
Y=8
local function refuel()
    if turtleNeedFuel == 0 then
        return true;
    end
    return turtle.refuel()
end

local function moveFarm(farm)
    if farm then
        turtle.digDown()
        turtle.placeDown()
    end
    while turtle.forward() do
        sleep(1)
    end
end

local function nextRow(direction)
    if direction == RIGHT then
        turtle.turnRight()
        turtle.forward()
        turtle.digDown()
        turtle.placeDown()
        turtle.turnRight()
    end
    if direction == LEFT then
        turtle.turnLeft()
        turtle.forward()
        turtle.digDown()
        turtle.placeDown()
        turtle.turnLeft()
    end

end

-- Entrypoint

if not refuel() then
    print("Turtle refuel: FAIL")
    return false
end

print("Turtle refueld.")
turtle.forward()
turtle.down()

-- Here it starts --

goForward()
turtle.turnRight()
moveFarm(true)
for x = 1, X-1 do
    nextRow(RIGHT)
    moveFarm(true)
    nextRow(LEFT)
    moveFarm(true)
end

nextRow(RIGHT)
moveFarm(false)
turtle.turnRight()
turtle.up()
turle.backward()
