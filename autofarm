MINIMUM_FUEL_LEVEL=12
RIGHT=0
LEFT=1
X=8
Y=8
local function refuel()
    if turtleNeedFuel == 0 then
        return true;
    end
    return turtle.refuel()
end

local function digDown()
    print("Dig: "..tostring(turtle.digDown()))
end

local function placeDown()

    for i = 1,16 do
        turtle.select(i)
        if turtle.placeDown() then
            print("Placing "..tostring(i))
            break
        end
    end

end


local function moveForward()
    if turtle.detectDown() then
        print("Block detected.")
        turtle.attackDown()
    end

    digDown()
    placeDown()
    while turtle.forward() do
        sleep(1)
    end
end



local function nextRow(direction)
    if direction == RIGHT then
        turtle.turnRight()
        turtle.forward()
        turtle.attackDown()
        digDown()
        placeDown()
        turtle.turnRight()
    end
    if direction == LEFT then
        turtle.turnLeft()
        turtle.forward()
        turtle.attackDown()
        digDown()
        placeDown()
        turtle.turnLeft()
    end

end

-- Entrypoint

if not turtle.refuel() then
    print("Turtle refuel: FAIL")
    return false
end

print("Turtle refueld.")

-- Here it starts --

moveForward()
turtle.turnRight()
for x = 1, X/2 do
    moveForward()
    nextRow(RIGHT)
    moveForward()
    nextRow(LEFT)
end

turtle.turnLeft()
